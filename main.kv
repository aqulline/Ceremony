#:import sm kivy.uix.screenmanager
ScreenManager:
    id:manager
    transition:sm.FadeTransition(duration=.0)
    MDScreen:
        name:"login"
        MDFloatLayout:
            orientation:"vertical"
            md_bg_color:"#eaf4f4"
            MDLabel:
                text:"Customer Number"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"18sp"
                color:"#474747"
                pos_hint:{"center_x":.27, "center_y":.64}
            NumberOnlyField:
                id:user_number
                mode: "rectangle"
                hint_text:"Enter ceremony name"
                size_hint_x:.8
                pos_hint:{"center_x":.5, "center_y":.57}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
            MDLabel:
                text:"password"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"18sp"
                color:"#474747"
                pos_hint:{"center_x":.2, "center_y":.48}
            MDTextField:
                id:password
                mode: "rectangle"
                hint_text:"Enter ceremony name"
                size_hint_x:.8
                password:True
                pos_hint:{"center_x":.5, "center_y":.42}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
            MDFloatingActionButton:
                icon: "google"
                type:"standard"
                md_bg_color:"#BCDCDC"
                text_color:"#2e4052"
                pos_hint:{"center_x":.5, "center_y":.15}
                on_release:
                    app.login()
            MDRaisedButton:
                text:"Submit"
                md_bg_color:  "#0B4F6C"
                text_color: "#FFFFFF"
                size_hint:.5,.08
                pos_hint:{"center_x":.5, "center_y":.2}
                on_release:
                    app.user_login_opt()

    MDScreen:
        name:"home"
        md_bg_color:"#eaf4f4"
        MDBottomNavigation:
            id:bnav
            panel_color:"#FFFFFF"
            selected_color_background: "#eaf4f4"
            text_color_active: "#0B4F6C"
            MDBottomNavigationItem:
                name: 'home'
                text: 'Home'
                icon: 'home'
                MDFloatLayout:
					md_bg_color:"#eaf4f4"
					MDLabel:
                        text:"Dashboard"
                        halign:"center"
                        font_size:"22sp"
                        color:"#0B4F6C"
                        pos_hint:{"center_x":.2, "center_y":.95}
                    MDIcon:
                        icon:"crown-outline"
                        halign:"center"
                        font_size:"30dp"
                        color:"#d4af37"
                        pos_hint:{"center_x":.92, "center_y":.95}
                    Carry:
                        pos_hint:{"center_x":.5, "center_y":.77}
                        MDFloatLayout:
                            MDLabel:
                                text:"Total Earnings(TZS)"
                                halign:"center"
                                color:"white"
                                pos_hint:{"center_x":.25, "center_y":.82}
                            MDLabel:
                                text:app.total_bill
                                halign:"left"
                                color:"white"
                                font_size:"30sp"
                                pos_hint:{"center_x":.6, "center_y":.5}
                            MDFloatingActionButton:
                                icon: "cash-fast"
                                type:"small"
                                md_bg_color:"#BCDCDC"
                                text_color:"#d4af37"
                                pos_hint:{"center_x":.8, "center_y":.25}
                                on_release:
                                    app.is_premium_screen()
                    MDLabel:
                        text:"Today Summary"
                        color:"#474747"
                        font_size:"18sp"
                        halign:"center"
                        pos_hint:{"center_x":.25, "center_y":.59}

                    Display:
                        name:"Deliveries"
                        number:app.today_deliveries
                        posx:.35
                        pos_hint:{"center_x":.27, "center_y":.46}

                    Display:
                        name:"Transaction"
                        number:app.today_orders
                        pos_hint:{"center_x":.72, "center_y":.46}

                    MDLabel:
                        text:"Quick Actions"
                        color:"#474747"
                        font_size:"18sp"
                        halign:"center"
                        pos_hint:{"center_x":.22, "center_y":.33}

                    MDFloatingActionButton:
                        icon: "account-heart"
                        type:"standard"
                        md_bg_color:"#BCDCDC"
                        text_color:"#2e4052"
                        pos_hint:{"center_x":.2, "center_y":.26}
                        on_release:
                            app.screen_capture("favourite")

                    MDLabel:
                        text:"special buyers"
                        color:"#474747"
                        font_size:"12sp"
                        halign:"center"
                        pos_hint:{"center_x":.2, "center_y":.19}

                    MDFloatingActionButton:
                        icon: "cart-arrow-up"
                        type:"standard"
                        md_bg_color:"#BCDCDC"
                        text_color:"#2e4052"
                        pos_hint:{"center_x":.4, "center_y":.26}
                        on_release:
                            app.screen_capture("sell")
                    MDLabel:
                        text:"send order"
                        color:"#474747"
                        font_size:"12sp"
                        halign:"center"
                        pos_hint:{"center_x":.4, "center_y":.19}

                    MDFloatingActionButton:
                        icon: "clipboard-text-outline"
                        type:"standard"
                        md_bg_color:"#BCDCDC"
                        text_color:"#2e4052"
                        pos_hint:{"center_x":.6, "center_y":.26}
                        on_release:
                            app.refresh_opt()
                            app.screen_capture("products")

                    MDLabel:
                        text:"My products"
                        color:"#474747"
                        font_size:"12sp"
                        halign:"center"
                        pos_hint:{"center_x":.6, "center_y":.19}


                    MDFloatingActionButton:
                        icon: "diamond-stone"
                        type:"standard"
                        md_bg_color:"#BCDCDC"
                        text_color:"#d4af37"
                        pos_hint:{"center_x":.8, "center_y":.26}
                        on_release:
                            app.is_premium_screen()
                    MDLabel:
                        text:"Go premium"
                        color:"#d4af37"
                        font_size:"12sp"
                        halign:"center"
                        pos_hint:{"center_x":.8, "center_y":.19}

                    MDFloatingActionButton:
                        icon: "account-hard-hat"
                        type:"standard"
                        md_bg_color:"#BCDCDC"
                        text_color:"#d4af37"
                        pos_hint:{"center_x":app.admin_pos_x, "center_y":.11}
                        on_release:
                            app.screen_capture('admin')
                    MDLabel:
                        text:"Admin"
                        color:"#d4af37"
                        font_size:"12sp"
                        halign:"center"
                        pos_hint:{"center_x":.5, "center_y":app.admin_pos_y}


            MDBottomNavigationItem:
                name: 'notify'
                text: 'Notify'
                icon: 'bell-ring'
				MDFloatLayout:
					md_bg_color:"#eaf4f4"
					MDLabel:
                        text:"Send Notification"
                        halign:"center"
                        font_size:"21sp"
                        color:"#0B4F6C"
                        pos_hint:{"center_x":.25, "center_y":.93}
                    Carry:
                        pos_hint:{"center_x":.5, "center_y":.7}
                        FloatLayout:
                            MDLabel:
                                text:"Normal Customers"
                                halign:"center"
                                color:"white"
                                pos_hint:{"center_x":.25, "center_y":.82}
                            MDLabel:
                                text:app.total_buyers
                                halign:"left"
                                color:"white"
                                font_size:"33sp"
                                pos_hint:{"center_x":.6, "center_y":.5}
                            MDFloatingActionButton:
                                icon: "send-outline"
                                type:"small"
                                md_bg_color:"#BCDCDC"
                                text_color:"#d4af37"
                                pos_hint:{"center_x":.8, "center_y":.25}
                                on_release:
                                    app.sms_is_special = False
                                    app.send_sms_opt()
                    Carry:
                        pos_hint:{"center_x":.5, "center_y":.4}
                        size:app.size_x/1.2,app.size_y/6
                        FloatLayout:
                            MDLabel:
                                text:"Special Customers"
                                halign:"center"
                                color:"white"
                                pos_hint:{"center_x":.25, "center_y":.82}
                            MDLabel:
                                text:app.total_special
                                halign:"left"
                                color:"white"
                                font_size:"30sp"
                                pos_hint:{"center_x":.6, "center_y":.5}
                            MDFloatingActionButton:
                                icon: "send-outline"
                                type:"small"
                                md_bg_color:"#BCDCDC"
                                text_color:"#d4af37"
                                pos_hint:{"center_x":.8, "center_y":.28}
                                on_release:
                                    app.sms_is_special = True
                                    app.send_sms_opt()
                    MDFloatingActionButton:
                        icon: "pencil-outline"
                        type:"standard"
                        md_bg_color:"#BCDCDC"
                        text_color:"#2e4052"
                        pos_hint:{"center_x":.4, "center_y":.15}
                        on_release:
                            app.sms_type = 'sms'
                            app.sms_sent = app.user_sms
                            app.screen_capture("edit_sms")
                    MDLabel:
                        text:"edit text"
                        color:"#474747"
                        font_size:"12sp"
                        halign:"center"
                        pos_hint:{"center_x":.4, "center_y":.08}

                    MDFloatingActionButton:
                        icon: "pencil-plus"
                        type:"standard"
                        md_bg_color:"#BCDCDC"
                        text_color:"#2e4052"
                        pos_hint:{"center_x":.6, "center_y":.15}
                        on_release:
                            app.sms_type = 'special_sms'
                            app.sms_sent = app.user_special_sms
                            app.screen_capture("edit_sms")

                    MDLabel:
                        text:"edit special text"
                        color:"#474747"
                        font_size:"12sp"
                        halign:"center"
                        pos_hint:{"center_x":.6, "center_y":.08}

            MDBottomNavigationItem:
                name: 'buyers'
                text: 'Buyers'
                icon: 'account-group'
                MDBoxLayout:
                    id:buys
                    orientation:"vertical"
                    md_bg_color:"#eaf4f4"
                    MDBoxLayout:
                        adaptive_height:True
                        FloatLayout:
                            MDLabel:
                                text:"Buyers"
                                size_hint_y: .1
                                height: self.texture_size[1]
                                halign:"center"
                                font_size:"21sp"
                                color:"#0B4F6C"
                                pos_hint:{"center_x":.2, "center_y":.6}
                            MDFloatingActionButton:
                                icon: "send-outline"
                                type:"small"
                                md_bg_color:"#BCDCDC"
                                text_color:"#d4af37"
                                pos_hint:{"center_x":.9, "center_y":.5}
                                on_release:
                                    app.send_sms_ind_opt()
                            MDFloatingActionButton:
                                icon: "cart-arrow-down"
                                type:"small"
                                md_bg_color:"#BCDCDC"
                                text_color:"#d4af37"
                                pos_hint:{"center_x":.75, "center_y":.5}
                                on_release:
                                    app.capture_user()
                    RecycleView:
			            id:contact
			            key_viewclass: 'viewclass'
			            key_size: 'height'
			            RecycleBoxLayout:
			                id:wali
			                spacing:dp(10)
			                padding: dp(10)
			                default_size: None, dp(70)
			                default_size_hint: 1, None
			                size_hint_y: None
			                height: self.minimum_height
			                orientation:"vertical"

            MDBottomNavigationItem:
                name: 'account'
                text: 'Account'
                icon: 'account'
                MDFloatLayout:
                    orientation:"vertical"
                    md_bg_color:"#eaf4f4"
                    MDLabel:
                        text:"@"+app.user_name
                        halign:"center"
                        pos_hint:{"center_x":.5, "center_y":.95}
                        markup:True
                        font_size:"18sp"
                        bold:True
                    AsyncImage:
                        source:app.user_image
                        pos_hint:{"center_x":.5, "center_y":.82}
                        size_hint:.5,.5
                    MDLabel:
                        text:"@"+app.user_name
                        halign:"center"
                        pos_hint:{"center_x":.5, "center_y":.71}
                        font_style:"Caption"
                        font_size:"18sp"
                    MDLabel:
                        text:app.user_products_counts
                        halign:"center"
                        font_size:"18sp"
                        bold:True
                        pos_hint:{"center_x":.35, "center_y":.65}
                    MDLabel:
                        text:"Products"
                        halign:"center"
                        font_size:"18sp"
                        font_style:"Caption"
                        pos_hint:{"center_x":.35, "center_y":.61}
                    MDLabel:
                        text:app.total_buyers
                        halign:"center"
                        font_size:"18sp"
                        bold:True
                        pos_hint:{"center_x":.5, "center_y":.65}
                    MDLabel:
                        text:"Buyers"
                        halign:"center"
                        font_size:"18sp"
                        font_style:"Caption"
                        pos_hint:{"center_x":.5, "center_y":.61}

                    MDLabel:
                        text:app.total_special
                        halign:"center"
                        bold:True
                        font_size:"18sp"
                        pos_hint:{"center_x":.65, "center_y":.65}
                    MDLabel:
                        text:"Special's"
                        halign:"center"
                        font_size:"18sp"
                        font_style:"Caption"
                        pos_hint:{"center_x":.65, "center_y":.61}


    MDScreen:
        name:"contacts"
        MDBoxLayout:
            orientation:"vertical"
            spacing:dp("10")
            MDTopAppBar:
	            title: "contacts"
	            elevation: 1
	            pos_hint: {"top": 1}
	            md_bg_color: "#D5BDAF"
	            specific_text_color: "#4a4939"
	            right_action_items: [["account-plus", lambda x: app.add_from_contact()]]
			MDLabel:
				text:"Selected("+app.contact_count+")"
				halign:"center"
				size_hint_y:None
				height: self.texture_size[1]
	            width: self.texture_size[1]
            RecycleView:
	            id: contactss
	            key_viewclass: 'viewclass'
	            key_size: 'height'
	            RecycleBoxLayout:
	                id:wali
	                spacing:dp(10)
	                padding: dp(10)
	                default_size: None, dp(70)
	                default_size_hint: 1, None
	                size_hint_y: None
	                height: self.minimum_height
	                orientation:"vertical"
    MDScreen:
        name:"favourite"
        MDBoxLayout:
            orientation:"vertical"
            md_bg_color:"#eaf4f4"
            MDBoxLayout:
                adaptive_height:True
                MDFloatLayout:
                    MDLabel:
                        text:"Specials Buyers"
                        size_hint_y: .1
                        height: self.texture_size[1]
                        halign:"center"
                        font_size:"21sp"
                        color:"#0B4F6C"
                        pos_hint:{"center_x":.25, "center_y":.5}
                    MDFloatingActionButton:
                        icon: "message-text-outline"
                        type:"standard"
                        md_bg_color:"#2e4052"
                        text_color:"#ffffff"
                        pos_hint:{"center_x":.9, "center_y":.5}

            RecycleView:
	            id: contacts
	            key_viewclass: 'viewclass'
	            key_size: 'height'
	            RecycleBoxLayout:
	                id:wali
	                spacing:dp(10)
	                padding: dp(10)
	                default_size: None, dp(70)
	                default_size_hint: 1, None
	                size_hint_y: None
	                height: self.minimum_height
	                orientation:"vertical"
    MDScreen:
        name:"products"
        MDBoxLayout:
            orientation:"vertical"
            md_bg_color:"#eaf4f4"
            MDBoxLayout:
                adaptive_height:True
                MDFloatLayout:
                    MDLabel:
                        text:"Products"
                        size_hint_y: .1
                        height: self.texture_size[1]
                        halign:"center"
                        font_size:"21sp"
                        color:"#0B4F6C"
                        pos_hint:{"center_x":.15, "center_y":.7}
                    MDFloatingActionButton:
                        icon: "plus"
                        type:"small"
                        md_bg_color:"#BCDCDC"
                        text_color:"#2e4052"
                        pos_hint:{"center_x":.9, "center_y":.7}
                        on_release:
                            app.screen_capture("add_product")
            RecycleView:
                id: products
                key_viewclass: 'viewclass'
                key_size: 'height'
                RecycleBoxLayout:
                    id:wali
                    spacing:dp(10)
                    padding: dp(10)
                    default_size: None, dp(70)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation:"vertical"
    MDScreen:
        name:"add_product"
        MDFloatLayout:
            orientation:"vertical"
            md_bg_color:"#eaf4f4"
            MDLabel:
                text:"Add Product"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"21sp"
                color:"#0B4F6C"
                pos_hint:{"center_x":.2, "center_y":.92}
            MDLabel:
                text:"Product Name"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"left"
                font_size:"18sp"
                color:"#474747"
                pos_hint:{"center_x":.6, "center_y":.8}
            MDTextField:
                id:product_name
                mode: "rectangle"
                hint_text:"Enter Product Name"
                size_hint_x:.8
                pos_hint:{"center_x":.5, "center_y":.73}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
            MDLabel:
                text:"Product Letter"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"left"
                font_size:"18sp"
                color:"#474747"
                pos_hint:{"center_x":.6, "center_y":.64}
            MDTextField:
                id:product_letter
                mode: "rectangle"
                hint_text:"Enter product letter"
                size_hint_x:.8
                pos_hint:{"center_x":.5, "center_y":.57}
                font_size: dp(18)
                helper_text: "Any letter from A-Z to identify your product"
                helper_text_mode: "on_focus"
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
                on_text:
                    product_letter.text = app.capp_limit(product_letter.text)
            MDLabel:
                text:"Product Price"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"left"
                font_size:"18sp"
                color:"#474747"
                pos_hint:{"center_x":.6, "center_y":.48}
            MDTextField:
                id:product_price
                mode: "rectangle"
                hint_text:"Enter product Price"
                size_hint_x:.8
                pos_hint:{"center_x":.5, "center_y":.42}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
                on_text:
                    product_price.text = app.add_comma(product_price.text)
            MDRaisedButton:
                text:"Submit"
                md_bg_color:  "#0B4F6C"
                text_color: "#FFFFFF"
                size_hint:.5,.08
                pos_hint:{"center_x":.5, "center_y":.2}
                on_release:
                    app.add_product_opt()
    MDScreen:
        name:"sell"
        MDFloatLayout:
            orientation:"vertical"
            md_bg_color:"#eaf4f4"
            MDLabel:
                text:"Send Order"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"21sp"
                color:"#0B4F6C"
                pos_hint:{"center_x":.2, "center_y":.92}
            MDLabel:
                text:"Customer Name"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"18sp"
                color:"#474747"
                pos_hint:{"center_x":.25, "center_y":.8}
            MDTextField:
                id:customer_name
                mode: "rectangle"
                hint_text:"Enter Customer Name"
                size_hint_x:.8
                pos_hint:{"center_x":.5, "center_y":.73}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
            MDLabel:
                text:"Customer Number"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"18sp"
                color:"#474747"
                pos_hint:{"center_x":.27, "center_y":.64}
            NumberOnlyField:
                id:customer_number
                mode: "rectangle"
                hint_text:"Enter customer number"
                size_hint_x:.8
                pos_hint:{"center_x":.5, "center_y":.57}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
            MDLabel:
                text:"Product ID"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"18sp"
                color:"#474747"
                pos_hint:{"center_x":.2, "center_y":.48}
            MDTextField:
                id:product_id
                mode: "rectangle"
                hint_text:"Enter product ID"
                size_hint_x:.8
                pos_hint:{"center_x":.5, "center_y":.42}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
            MDRaisedButton:
                text:"Submit"
                md_bg_color:  "#0B4F6C"
                text_color: "#FFFFFF"
                size_hint:.5,.08
                pos_hint:{"center_x":.5, "center_y":.2}
                on_release:
                    app.set_order_opt()

    MDScreen:
        name:"edit_sms"
        MDFloatLayout:
            md_bg_color:"#eaf4f4"
            MDLabel:
                text:"Edit Sms"
                halign:"center"
                font_size:"21sp"
                color:"#0B4F6C"
                pos_hint:{"center_x":.2, "center_y":.93}
            MDBoxLayout:
                size_hint_y: None
                height: self.minimum_height  # This will allow the layout to grow as text is added.
                md_bg_color:"#2e4052"
                width:app.size_x/1.2
                size_hint_x:None
                pos_hint:{"center_x":.5, "center_y":.7}
                radius:5
                MDLabel:
                    id: story_label
                    text: app.sms_sent  # Your story text goes here
                    theme_text_color: "Custom"
                    text_color: "white"
                    font_style: "Body1"
                    halign: "center"
                    size_hint_y: None
                    height: self.texture_size[1]
                    pos_hint: {"center_x": .5}
            MDTextField:
                id:sms_edit
                mode: "rectangle"
                hint_text:"Enter number"
                size_hint_x:.8
                pos_hint:{"center_x":.5, "center_y":.4}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
                on_text:
                    app.sms_sent = sms_edit.text

            MDRaisedButton:
                text:"Submit"
                md_bg_color:  "#2e4052"
                text_color: "#FFFFFF"
                size_hint:.5,.08
                pos_hint:{"center_x":.5, "center_y":.2}
                on_release:
                    app.edit_sms(sms_edit.text)
                    sms_edit.text = ''
                    story_label.text = app.sms_sent

    MDScreen:
        name:"premium1"
        MDFloatLayout:
            orientation:"vertical"
            md_bg_color:"#eaf4f4"
            MDLabel:
                text:"Premium"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"21sp"
                color:"#d4af37"
                pos_hint:{"center_x":.2, "center_y":.95}
            Carry:
                pos_hint:{"center_x":.5, "center_y":.65}
                md_bg_color:"#d4af37"
                MDFloatLayout:
                    MDLabel:
                        text:"Premium user"
                        halign:"center"
                        color:"white"
                        pos_hint:{"center_x":.5, "center_y":.82}
                    MDIcon:
                        icon:"crown-outline"
                        halign:"center"
                        font_size:"30dp"
                        color:"white"
                        pos_hint:{"center_x":.9, "center_y":.87}
                    MDLabel:
                        text:"[s] 5,000/= [/s]"
                        halign:"left"
                        markup:True
                        color:"white"
                        font_size:"30sp"
                        pos_hint:{"center_x":.6, "center_y":.5}
                    MDLabel:
                        text:"Exp: 27/6/2024"
                        halign:"left"
                        color:"white"
                        font_size:"12sp"
                        pos_hint:{"center_x":1.1, "center_y":.2}
    MDScreen:
        name:"premium"
        MDFloatLayout:
            orientation:"vertical"
            md_bg_color:"#eaf4f4"
            MDLabel:
                text:"Premium"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"21sp"
                color:"#d4af37"
                pos_hint:{"center_x":.2, "center_y":.92}
            Carry:
                pos_hint:{"center_x":.5, "center_y":.75}
                md_bg_color:"#d4af37"
                MDFloatLayout:
                    MDLabel:
                        text:"Total Earnings(TZS)"
                        halign:"center"
                        color:"white"
                        pos_hint:{"center_x":.25, "center_y":.82}
                    MDLabel:
                        text:"5,000/="
                        halign:"left"
                        color:"white"
                        font_size:"32sp"
                        pos_hint:{"center_x":.6, "center_y":.5}
            MDLabel:
                text:"Customer Email"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"18sp"
                color:"#474747"
                pos_hint:{"center_x":.25, "center_y":.8-.25}
            MDTextField:
                id:pcustomer_name
                mode: "rectangle"
                hint_text:"Enter Email"
                size_hint_x:.8
                pos_hint:{"center_x":.5, "center_y":.73-.25}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
            MDLabel:
                text:"Customer Number"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"18sp"
                color:"#474747"
                pos_hint:{"center_x":.27, "center_y":.64-.25}
            NumberOnlyField:
                id:pcustomer_number
                mode: "rectangle"
                hint_text:"Enter number"
                size_hint_x:.8
                pos_hint:{"center_x":.5, "center_y":.57-.25}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'

            MDRaisedButton:
                text:"Proceed"
                md_bg_color:  "#d4af37"
                text_color: "#FFFFFF"
                size_hint:.5,.08
                pos_hint:{"center_x":.5, "center_y":.13}
                on_release:
                    app.go_premium_opt()



    #                               admin101

    MDScreen:
        name:"admin"
        MDFloatLayout:
            orientation:"vertical"
            md_bg_color:"#eaf4f4"
            MDLabel:
                text:"Admin"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"21sp"
                color:"#d4af37"
                pos_hint:{"center_x":.2, "center_y":.95}

            MDFloatingActionButton:
                icon: "account-heart"
                type:"standard"
                md_bg_color:"#BCDCDC"
                text_color:"#2e4052"
                pos_hint:{"center_x":.2, "center_y":.26+.5}
                on_release:
                    app.screen_capture("deliver")

            MDLabel:
                text:"Deliver"
                color:"#474747"
                font_size:"12sp"
                halign:"center"
                pos_hint:{"center_x":.2, "center_y":.19+.5}

            MDFloatingActionButton:
                icon: "cart-arrow-up"
                type:"standard"
                md_bg_color:"#BCDCDC"
                text_color:"#2e4052"
                pos_hint:{"center_x":.4, "center_y":.26+.5}
                on_release:
                    app.screen_capture("order_info")
            MDLabel:
                text:"order info"
                color:"#474747"
                font_size:"12sp"
                halign:"center"
                pos_hint:{"center_x":.4, "center_y":.19+.5}

            MDFloatingActionButton:
                icon: "clipboard-text-outline"
                type:"standard"
                md_bg_color:"#BCDCDC"
                text_color:"#2e4052"
                pos_hint:{"center_x":.6, "center_y":.26+.5}
                on_release:
                    app.screen_capture("order_list")
                    app.get_orders_opt()

            MDLabel:
                text:"All orders"
                color:"#474747"
                font_size:"12sp"
                halign:"center"
                pos_hint:{"center_x":.6, "center_y":.19+.5}

    MDScreen:
        name:"deliver"
        MDFloatLayout:
            orientation:"vertical"
            md_bg_color:"#eaf4f4"
            MDLabel:
                text:"Delivery"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"21sp"
                color:"#d4af37"
                pos_hint:{"center_x":.2, "center_y":.95}
            MDTextField:
                id:item_id
                mode: "rectangle"
                hint_text:"Enter Item id"
                size_hint_x:.8
                pos_hint:{"center_x":.44, "center_y":.85}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
            MDFloatingActionButton:
                icon: "magnify"
                type:"small"
                md_bg_color:"#BCDCDC"
                text_color:"#2e4052"
                pos_hint:{"center_x":.92, "center_y":.85}
                on_release:
                    app.input_order = item_id.text
                    app.getInfo_opt()
            ItemInfo:
                pos_hint:{"center_x":.5, "center_y":.57}
            MDTextField:
                id:logistic_price
                mode: "rectangle"
                hint_text:"Enter deliver fee"
                size_hint_x:.8
                pos_hint:{"center_x":.5, "center_y":.24}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
                on_text:
                    logistic_price.text = app.add_comma(logistic_price.text)
            MDRaisedButton:
                text:"Proceed"
                md_bg_color:  "#2e4052"
                text_color: "#FFFFFF"
                size_hint:.5,.08
                pos_hint:{"center_x":.5, "center_y":.13}
                on_release:
                    print(app.user_phone,item_id.text, logistic_price.text)
                    app.calculate_bill()
                    app.deliver_opt()
    MDScreen:
        name:"order_info"
        MDFloatLayout:
            orientation:"vertical"
            md_bg_color:"#eaf4f4"
            MDLabel:
                text:"Order Info"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"21sp"
                color:"#d4af37"
                pos_hint:{"center_x":.2, "center_y":.95}
            MDTextField:
                id:order_id
                mode: "rectangle"
                hint_text:"Enter Item id"
                size_hint_x:.8
                pos_hint:{"center_x":.44, "center_y":.85}
                font_size: dp(18)
                foreground_color: 53 / 225, 59 / 225, 60 / 225, 1
                line_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                fill_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                hint_text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                text_color_focus: 53 / 225, 59 / 225, 60 / 225, 1
                halign: 'left'
            MDFloatingActionButton:
                icon: "magnify"
                type:"small"
                md_bg_color:"#BCDCDC"
                text_color:"#2e4052"
                pos_hint:{"center_x":.92, "center_y":.85}
                on_release:
                    app.input_order = order_id.text
                    app.getInfo_opt()
            ItemInfos:
                pos_hint:{"center_x":.5, "center_y":.45}

    MDScreen:
        name:"order_list"
        MDBoxLayout:
            orientation:"vertical"
            md_bg_color:"#eaf4f4"
            MDLabel:
                text:"Order's"
                size_hint_y: .1
                height: self.texture_size[1]
                halign:"center"
                font_size:"21sp"
                color:"#d4af37"
                pos_hint:{"center_x":.15, "center_y":.9}
            MDBoxLayout:
                id: chip_box
                adaptive_size: True
                spacing: "8dp"
                pos_hint:{"center_x":.5, "center_y":.85}
                MyChip:
                    id:select_today
                    md_bg_color:"#BCDCDC"
                    text: "Today"
                    pos_hint: {"center_x": .2, "center_y": .85}
                    on_release:
                        app.selected_time_frame = 'Today'
                        self.active = True
                        if self.active: app.removes_marks_all_chips()
                        self.active = True
                        app.get_orders_opt()
                MyChip:
                    id:select_week
                    md_bg_color:"#BCDCDC"
                    text: "Week"
                    pos_hint: {"center_x": .42+.05, "center_y": .85}
                    on_release:
                        app.selected_time_frame = 'Week'
                        self.active = True
                        if self.active: app.removes_marks_all_chips()
                        self.active = True
                        app.get_orders_opt()
                MyChip:
                    id:select_month
                    md_bg_color:"#BCDCDC"
                    text: "Month"
                    pos_hint: {"center_x": .64+.1, "center_y": .85}
                    on_release:
                        app.selected_time_frame = 'Month'
                        self.active = True
                        if self.active: app.removes_marks_all_chips()
                        self.active = True
                        app.get_orders_opt()
            RecycleView:
                id:order_list
                key_viewclass: 'viewclass'
                key_size: 'height'
                RecycleBoxLayout:
                    id:wali
                    spacing:dp(10)
                    padding: dp(10)
                    default_size: None, dp(70)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation:"vertical"



<Contacts>:
	text: root.name
	secondary_text: root.phone
	ImageLeftWidget:
	    source:root.image
	RightCheckbox:
		id: lcb
		on_press:
			root.state_changed()
			app.action(self, root.phone, root.name)
        state: 'down' if root.selected else 'normal'



<Carry@MDCard>:
	md_bg_color:"#2e4052"
	orientation:"vertical"
	radius:dp(28)
	adaptive_height:True
#	height:"1"
	size_hint:None, None
	size:app.size_x/1.2,app.size_y/4

<Display@MDBoxLayout>:
	md_bg_color:"#BCDCDC"
	orientation:"vertical"
	radius:dp(20)
	#adaptive_height:True
	size_hint:None, None
	size:app.size_x/2.9,app.size_y/6
	posx:.4
	name:""
	number:""
	FloatLayout:
		MDLabel:
			text:root.name
			halign:"center"
			font_size:"17sp"
			color:"#2e4052"
			pos_hint:{'center_x':root.posx, 'center_y':.75}
		MDLabel:
			text:root.number
			halign:"left"
			color:"#2e4052"
			font_size:"30sp"
			pos_hint:{'center_x':.9, 'center_y':.4}

<Buyers>:
	text: root.name
	secondary_text: root.phone
	ImageLeftWidget:
	    source:root.image

<Spin>:
    adaptive_height: True
    spacing: dp(5)
    MDSpinner:
        size_hint: None, None
        size: dp(25), dp(25)
        pos_hint: {'center_x': .5, 'center_y': 1}
        active: True
        color: 78 / 255, 82 / 255, 84 / 255, 1
    MDLabel:
        text:'Loading...'
        bold:True
#        font_name:'components/fonts/Gill Sans.otf'
        theme_text_color: "Custom"
        text_color:78/255, 82/255, 84/255, 1
        pos_hint: {'center_x': .5, 'center_y': 1}

<Emergency@MDBoxLayout>:
    radius:9
    adaptive_height:True
    name:""
    icon:""
    phone:""
    price:""
    call:"phone"
    pos_x: .27
    pos_y: .64
    height:dp(65)
    md_bg_color:214/255, 223/255, 232/255, 1
    pos_hint:{"center_x":.5,"top":.8}
    orientation:"vertical"
    FloatLayout:
        MDIcon:
            icon:root.icon
            font_size:"40sp"
            pos_hint:{"center_x":.53,"center_y":.5}
        MDLabel:
            id:nm
            text:root.name
            halign:"center"
            font_size:"20sp"
            theme_text_color: "Custom"
            text_color:26/255, 54/255, 113/255
            pos_hint:{"center_x":root.pos_x,"center_y":root.pos_y}
        MDLabel:
            text:root.phone
            halign:"center"
            font_size:"20sp"
            font_style:"Caption"
            theme_text_color: "Custom"
            text_color:26/255, 54/255, 113/255
            pos_hint:{"center_x":.27,"center_y":.32}
        MDLabel:
            text:root.price
            halign:"center"
            font_size:"27sp"
            font_style:"Body1"
            theme_text_color: "Custom"
            text_color:26/255, 54/255, 113/255
            pos_hint:{"center_x":.8,"center_y":.5}
<ProductInfo>:
    radius:9
    adaptive_height:True
    height:100
    md_bg_color:214/255, 223/255, 232/255, 1
    pos_hint:{"center_x":.5,"top":.8}
    orientation:"vertical"
    FloatLayout:
        MDLabel:
            text:root.name
            halign:"left"
            font_size:"20sp"
            theme_text_color: "Custom"
            text_color:26/255, 54/255, 113/255
            pos_hint:{"center_x":.56,"center_y":.8}
        MDLabel:
            text:"TSh" +" "+root.price+"/="
            halign:"left"
            font_size:"15sp"
            color:"#2e4052"
            pos_hint:{"center_x":1.2,"center_y":.8}
        MDLabel:
            text:"Item letter:"+" "+root.letter
            halign:"left"
            font_size:"13sp"
            color:"#2e4052"
            pos_hint:{"center_x":.56,"center_y":.55}
        MDLabel:
            text:"Count:"+" "+root.count
            halign:"left"
            font_size:"13sp"
            color:"#2e4052"
            pos_hint:{"center_x":.56,"center_y":.3}

<OrderInfo>:
    orientation: 'vertical'
#    adaptive_height: True
    padding: dp(10)
    spacing: dp(10)
    size_hint:None, None
	size:app.size_x/1,app.size_y/11
    radius: dp(14)
    md_bg_color: 0.84, 0.87, 0.90, 1  # Light gray background
    pos_hint: {"center_x": 0.5}
    MDFloatLayout:
        MDLabel:
            id: order_id
            text: root.order_id
            halign: "left"
            font_style: "Subtitle1"
            theme_text_color: "Custom"
            text_color: 0.1, 0.2, 0.45, 1  # Dark blue color
            size_hint_x: 0.6
            pos_hint:{"center_x":.3, "center_y":.5}
        MDLabel:
            id: order_id
            text: root.order_date
            halign: "left"
            font_style: "Overline"
            theme_text_color: "Custom"
            text_color: "#000000"  # Dark blue color
            size_hint_x: 0.6
            pos_hint:{"center_x":.3, "center_y":.1}
        MDChip:
            text: root.deliver
            pos_hint: {"center_x": .8, "center_y": .5}
            md_bg_color:app.status_color

<ItemInfo>:
    radius:dp(28)
    md_bg_color:"#2e4052"
    size_hint:None, None
	size:app.size_x/1.2,app.size_y/2.5
	elevation:2
	MDFloatLayout:
        MDLabel:
            text:"Order id"
            halign:"left"
            font_size:"18sp"
            color:"white"
            pos_hint:{"center_x":.9,"center_y":.89}
        MDLabel:
            text:"Product ID"
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":.56,"center_y":.72}
        MDLabel:
            text:"Product Price"
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":.56,"center_y":.52}
        MDLabel:
            text:"Customer Name"
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":.56,"center_y":.32}
        MDLabel:
            text:"Customer Number"
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":.56,"center_y":.12}
        MDSeparator:
            pos_hint:{"center_x":.5,"center_y":.5}
            orientation:"vertical"
            width:dp(1)
            size_hint: None, .35
            color:0, 0, 0, 1
        MDLabel:
            text:app.product_id
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":1.08,"center_y":.72}
        MDLabel:
            text:app.product_price
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":1.08,"center_y":.52}
        MDLabel:
            text:app.customer_name
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":1.08,"center_y":.32}
        MDLabel:
            text:app.customer_number
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":1.08,"center_y":.12}

<ItemInfos@MDBoxLayout>:
    radius:dp(28)
    md_bg_color:"#2e4052"
    size_hint:None, None
	size:app.size_x/1.2,app.size_y/1.6
	elevation:2
	MDFloatLayout:
        MDLabel:
            text:"Order id"
            halign:"left"
            font_size:"18sp"
            color:"white"
            pos_hint:{"center_x":.9,"center_y":.89+.04}
        MDLabel:
            text:"Product ID"
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":.56,"center_y":.82}
        MDLabel:
            text:"Product Price"
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":.56,"center_y":.67}
        MDLabel:
            text:"Customer Name"
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":.56,"center_y":.52}
        MDLabel:
            text:"Customer Number"
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":.56,"center_y":.37}
        MDLabel:
            text:"Order Bill"
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":.56,"center_y":.22}
        MDLabel:
            text:"Delivery Status"
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":.56,"center_y":.07}
        MDSeparator:
            pos_hint:{"center_x":.5,"center_y":.5}
            orientation:"vertical"
            width:dp(1)
            size_hint: None, .35
            color:0, 0, 0, 1
        MDLabel:
            text:app.product_id
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":1.08,"center_y":.82}
        MDLabel:
            text:app.product_price
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":1.08,"center_y":.67}
        MDLabel:
            text:app.customer_name
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":1.08,"center_y":.52}
        MDLabel:
            text:app.customer_number
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":1.08,"center_y":.37}
        MDLabel:
            text:app.bill_payed
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":1.08,"center_y":.22}
        MDLabel:
            text:app.delivery_Status
            halign:"left"
            font_size:"15sp"
            color:"white"
            pos_hint:{"center_x":1.08,"center_y":.07}